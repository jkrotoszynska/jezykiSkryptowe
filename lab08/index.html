<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <title>Zadania</title>
  </head>
  <body>
    <!-- 1 -->
    <div id="pierwszy">To jest zadanie pierwsze</div>
    <script type="text/javascript">
      $("#pierwszy")
        .css({ background: "blue" })
        .delay(2000)
        .slideUp()
        .delay(1000)
        .fadeIn(1000);
    </script>

    <!-- 2 -->
    <div class="testAnim">
      <button id="testAnim" type="button">KLIK!</button>
    </div>

    <script type="text/javascript">
      $("#testAnim").on("click", function () {
        $(this).animate(
          {
            width: "500px",
            opacity: 0.4,
            fontSize: "3em",
            borderWidth: "10px",
          },
          1500
        );
      });
    </script>

    <!-- 3 -->
    <div
      id="testAnim6"
      style="
        background-color: pink;
        width: 200px;
        height: 100px;
        font-weight: bold;
        font-family: Arial;
      "
    >
      TO JEST ZADANIE 3
    </div>
    <script type="text/javascript">
      $("#testAnim6").on({
        mouseover: function () {
          $(this).stop().animate({ width: 1000 }, 500);
        },
        mouseout: function () {
          $(this).stop().animate({ width: 100 }, 500);
        },
      });
    </script>
    <!-- 4 -->

    <!-- 5 -->
    <button class="test-ajax" type="button">
      Kliknij i zobacz w konsoli debugera
    </button>
    <ul class="user-list"></ul>
    <script type="text/javascript">
      const apiUrl = "https://jsonplaceholder.typicode.com";
      const $list = $(".user-list");

      $(".test-ajax").on("click", function () {
        const $btn = $(this);

        //wykonujemy połączenie
        $.ajax({
          url: apiUrl + "/users",
          dataType: "json",
        })
          .done((res) => {
            //czyścimy listę przed dodaniem użytkowników
            //inaczej ponowne kliknięcie duplikowało by użytkowników na liście
            $list.empty();

            //robimy pętlę po zwróconej tablicy
            //dołączając do listy kolejne LI z imieniem i emailem użytkownika
            res.forEach((el) => {
              $list.append(
                `<li>${el.address.geo.lat} : ${el.address.geo.lng}</li>`
              );
            });
          })
          .always(() => {
            //po zakończeniu wczytywania wyłączamy loading
            //i włączamy przycisk
            $btn.removeClass("loading");
            $btn.prop("disabled", false);
          });
      });
    </script>
  </body>
</html>
